<VirtualHost *:80>
  ServerName __SERVER_NAME__
  Redirect "/" "https://__SERVER_NAME__/"
</VirtualHost>

<IfModule mod_ssl.c>
  <VirtualHost *:443>
    ServerAdmin webmaster@localhost
    DocumentRoot __DOCUMENT_ROOT__
    ServerName __SERVER_NAME__

    <Directory __DOCUMENT_ROOT__>
      Options -Indexes +FollowSymLinks
      AllowOverride All
      Require all granted
    </Directory>

    SSLEngine on
    SSLCertificateFile __SSL_CERT_FILE__
    SSLCertificateKeyFile __SSL_KEY_FILE__

    <IfModule mod_deflate.c>
      AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css application/javascript application/json application/xml image/svg+xml
    </IfModule>

    <IfModule mod_expires.c>
      ExpiresActive On
      ExpiresByType image/jpg "access plus 1 year"
      ExpiresByType image/jpeg "access plus 1 year"
      ExpiresByType image/png "access plus 1 year"
      ExpiresByType image/gif "access plus 1 year"
    </IfModule>

    ServerSignature Off

    ProxyPass "/ws/" "ws://127.0.0.1:8080/"
    ProxyPassReverse "/ws/" "ws://127.0.0.1:8080/"

    ErrorLog ${APACHE_LOG_DIR}/passito-ssl-error.log
    CustomLog ${APACHE_LOG_DIR}/passito-ssl-access.log combined
  </VirtualHost>
</IfModule>
