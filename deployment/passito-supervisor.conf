# Supervisor (process manager) configuration for Passito Job Supervisor
# Place this file in /etc/supervisor/conf.d/passito-supervisor.conf

[program:passito-supervisor]
command=/usr/bin/php /var/www/passito/passito.php jobs:supervisor --min-workers=2 --max-workers=20 --scale-up-threshold=10 --scale-down-threshold=3
directory=/var/www/passito
user=www-data
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/passito/supervisor.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
stopwaitsecs=30
priority=999
